===== Copy Last ASG Description

====== Key

+copyLastAsgDescription+

====== Description

This description provides the same deployment functionality as a +basicAmazonDeployDescription+. It decorates that functionality to resolve some of the required attributes from the ASG in previous sequential order.

====== Example Request Body
[source,javascript]
----
[{
    "copyLastAsgDescription": {
        "application": "kato",
        "amiName": "ami-2848a840",
        "instanceType": "m1.medium",
        "securityGroups": ["nf-infrastructure-vpc", "nf-datacenter-vpc"],
        "subnetType": "internal",
        "availabilityZones": {
            "us-east-1": []
        },
        "credentials": "test"
    }
}]
----

====== Description of inputs

[width="100%",frame="topbot",options="header,footer"]
|======================
|Key               | Type   | Required | Value
|application       | string | true     | The name of the application to which this deployment is concerned. Strictly speaking, this will be used to build the common naming scheme for the AutoScaling group
|amiName           | string | true     | Name of the AMI that will be deployed to the ASG.
|instanceType      | string | true     | Some https://aws.amazon.com/ec2/instance-types/[Amazon Instance Type] that members of this AutoScaling group will use.
|availabilityZones | object | true     | An object that provides a named region to array of availability zone relationships. For example, +{ "us-east-1": ["us-east-1a", "us-east-1c"] }+ will inform the deployment engine to deploy the provided AMI in the "us-east-1" region, and specifically into the availability zones: "us-east-1a", "us-east-1c".
|securityGroups    | array  | false    | List of security *group names*. Their IDs in their particular regions will be found at Amazon -- no need to look them up in advance.
|loadBalancers     | array  | false    | A list of string values that correspond to load balancer names that should be attached to the newly created ASG. Load balancers must be created prior to this description being submitted. In the case where a +createAmazonLoadBalancerDescription+ was provided earlier in the request's execution chain, the value from that execution will be included in this list.
|subnetType        | string | false    | The subnet "type" that is applicable to this deployment. This instructs the deployment engine to what subnets and vpcs this deployment will be a part. Subnets that are tagged with the key "immutable_metadata" and a value of a structure like, +{ "purpose": "internal", "target": "ec2" }+, will be found by the engine, and their "purpose" may be used as a value type for this field. Note that "purpose" and "target" provide a composite key, where the "target" property has eligible values of one of: "ec2" or "elb". Only one "purpose" to "target" correlation is valid with respect to the "subnetType" field in this description.
|======================
